var e=require("@urql/core"),r=require("wonka"),t=require("./1cc90026.min.js"),n=require("graphql");function i(e){return e.name.value}function a(e){return e.typeCondition.name.value}function o(e){return e.alias?e.alias.value:i(e)}function u(e){return e.selectionSet?e.selectionSet.selections:[]}function s(e){return e.typeCondition?i(e.typeCondition):null}function f(e){return e.kind===n.Kind.FIELD}function l(e){return e.kind===n.Kind.INLINE_FRAGMENT}function c(e,r){var t={},a=0;if(e.arguments&&e.arguments.length)for(var o=0,u=e.arguments.length;o<u;o++){var s=e.arguments[o],f=n.valueFromASTUntyped(s.value,r);null!=f&&(t[i(s)]=f,a++)}return a>0?t:null}function d(e,r){if(r&&e.variableDefinitions){for(var t={},n=0,a=e.variableDefinitions.length;n<a;n++){var o=i(e.variableDefinitions[n].variable);t[o]=r[o]}return t}}function p(e,r){var t={};if(!r)return t;if(e.variableDefinitions)for(var a=0,o=e.variableDefinitions.length;a<o;a++){var u=e.variableDefinitions[a],s=i(u.variable);t[s]=void 0===r[s]&&u.defaultValue?n.valueFromASTUntyped(u.defaultValue,r):r[s]}for(var f in r)f in t||(t[f]=r[f]);return t}function v(e,r,t){if(!e){var n=new Error((r||"Minfied Error #"+t+"\n")+"\nhttps://bit.ly/2XbVrpR#"+t);throw n.name="Graphcache Error",n}}function y(e){for(var r=0;r<e.definitions.length;r++)if(e.definitions[r].kind===n.Kind.OPERATION_DEFINITION)return e.definitions[r];v(!1,"",1)}function m(e){for(var r={},t=0;t<e.definitions.length;t++){var a=e.definitions[t];a.kind===n.Kind.FRAGMENT_DEFINITION&&(r[i(a)]=a)}return r}function h(e,r){for(var t=0;e.directives&&t<e.directives.length;t++){var a=e.directives[t],o=i(a);if(("include"===o||"skip"===o)&&a.arguments&&a.arguments[0]&&"if"===i(a.arguments[0])){var u=n.valueFromASTUntyped(a.arguments[0].value,r);return"include"===o?!!u:!u}}return!0}function g(e,r){for(var t=0;e.directives&&t<e.directives.length;t++){var a=e.directives[t];if("defer"===i(a)){for(var o=0;a.arguments&&o<a.arguments.length;o++){var u=a.arguments[t];if("if"===i(u))return!!n.valueFromASTUntyped(u.value,r)}return!0}}return!1}function k(e,r,t){var n=b(e,r,t);return!!n&&"NON_NULL"!==n.type.kind}function _(e,r,t){var n=b(e,r,t);if(!n)return!1;var i="NON_NULL"===n.type.kind?n.type.ofType:n.type;return"LIST"===i.kind&&"NON_NULL"!==i.ofType.kind}function O(e,r,t){if(!t)return!1;var n=s(r);return!n||t===n||(e.types[n]&&"OBJECT"===e.types[n].kind?n===t:(function(e,r){v(e.types[r]&&("INTERFACE"===e.types[r].kind||"UNION"===e.types[r].kind),"",5)}(e,n),q(e,t),e.isSubType(n,t)))}function b(e,r,t){if(0!==t.indexOf("__")&&0!==r.indexOf("__"))return q(e,r),e.types[r].fields[t]}function q(e,r){v(e.types[r]&&"OBJECT"===e.types[r].kind,"",3)}function w(r,t){return t?r+"("+e.stringifyVariables(t)+")":r}function x(e,r){return e+"."+r}function E(e){var r=e.indexOf("(");return r>-1?{fieldKey:e,fieldName:e.slice(0,r),arguments:JSON.parse(e.slice(r+1,-1))}:{fieldKey:e,fieldName:e,arguments:null}}function N(e){var r=e.indexOf(".");return{entityKey:e.slice(0,r).replace(/%2e/g,"."),fieldKey:e.slice(r+1)}}function K(){return Object.create(null)}new Set;var A=null,S=null,T=null,M=null,F=null,L=null,D=!1;function I(){return{optimistic:K(),base:new Map}}function C(e){var r;if(e){if(A.has(e))return e;r=S.get(e)||t._extends({},e),S.set(e,r)}else r={};return A.add(r),r}function P(e){return!!e&&A.has(e)}function R(e,r,t,n){A=new Set,S=new Map,T=e,M=r,F=K(),D=!!n,t?n||r.optimisticOrder.length>0?(n||r.commutativeKeys.has(t)?n&&r.commutativeKeys.delete(t):re(r,t),L=t,function(e,r){-1===e.optimisticOrder.indexOf(r)&&e.optimisticOrder.unshift(r),e.refLock[r]||(e.refLock[r]=K(),e.links.optimistic[r]=new Map,e.records.optimistic[r]=new Map)}(r,t)):(L=null,ne(r,t)):L=null}function U(){var r=M,t=L;if(D=!1,L=null,t&&r.optimisticOrder.indexOf(t)>-1)for(var n=r.optimisticOrder.length;--n>=0&&r.refLock[r.optimisticOrder[n]]&&r.commutativeKeys.has(r.optimisticOrder[n])&&!r.deferredKeys.has(r.optimisticOrder[n]);)ie(r.optimisticOrder[n]);A=null,S=null,T=null,M=null,F=null,r.defer||(r.defer=!0,Promise.resolve().then((function(){R("read",r,null),M.gc.forEach((function(e,r,t){if((M.refCount[e]||0)>0)t.delete(e);else{for(var n in M.refLock){var i=M.refLock[n];if((i[e]||0)>0)return;delete i[e]}delete M.refCount[e],t.delete(e),M.records.base.delete(e);var a=M.links.base.get(e);if(a)for(var o in M.links.base.delete(e),a)G(t,M.refCount,a[o],-1)}})),function(){if(M.storage){D=!0,T="read";var r=K();M.persist.forEach((function(t){var n,i=N(t),a=i.entityKey,o=i.fieldKey;r[t]=void 0!==(n=Z(a,o))?":"+e.stringifyVariables(n):void 0!==(n=Y(a,o))?e.stringifyVariables(n):void 0})),D=!1,M.storage.writeData(r),M.persist.clear()}}(),U(),r.defer=!1})))}function j(e,r,t){r&&!t&&e.deferredKeys.delete(r),R("read",e,r,t),U()}function J(){return v(null!==F,"",2),F}function Q(e,r,t,n){var i=L?e.optimistic[L]:e.base,a=i.get(r);void 0===a&&i.set(r,a=K()),void 0!==n||L?a[t]=n:delete a[t]}function B(e,r,t){for(var n,i=!D&&"read"===T&&L&&M.commutativeKeys.has(L),a=0,o=M.optimisticOrder.length;a<o;a++){var u=M.optimisticOrder[a],s=e.optimistic[u];if(i=i&&u!==L,s&&(!i||!M.commutativeKeys.has(u))&&(!D||"write"===T||M.commutativeKeys.has(u))&&void 0!==(n=s.get(r))&&t in n)return n[t]}return void 0!==(n=e.base.get(r))?n[t]:void 0}function V(e,r,t,n){var i=void 0!==r[t]?r[t]:0,a=r[t]=i+n|0;void 0!==e&&(a<=0?e.add(t):i<=0&&a>0&&e.delete(t))}function G(e,r,t,n){if("string"==typeof t)V(e,r,t,n);else if(Array.isArray(t))for(var i=0,a=t.length;i<a;i++)Array.isArray(t[i])?G(e,r,t[i],n):t[i]&&V(e,r,t[i],n)}function z(e,r,t){if(void 0!==t)for(var n in t)r.has(n)||(e.push(E(n)),r.add(n))}function X(e,r,t,n){z(e,r,n.base.get(t));for(var i=0,a=M.optimisticOrder.length;i<a;i++){var o=n.optimistic[M.optimisticOrder[i]];void 0!==o&&z(e,r,o.get(t))}}function H(e,r){"__typename"!==r&&(e!==M.queryRootKey?F[e]=!0:void 0!==r&&(F[x(e,r)]=!0))}function W(e,r){!D&&M.storage&&M.persist.add(function(e,r){return e.replace(/\./g,"%2e")+"."+r}(e,r))}function Y(e,r){return H(e,r),B(M.records,e,r)}function Z(e,r){return H(e,r),B(M.links,e,r)}function $(e,r,t){H(e,r),W(e,r),Q(M.records,e,r,t)}function ee(e,r,t){var n,i,a,o=M;L?(n=o.refLock[L]||(o.refLock[L]=K()),i=o.links.optimistic[L]):(n=o.refCount,i=o.links.base,a=o.gc);var u=i&&i.get(e),s=u&&u[r];H(e,r),W(e,r),Q(o.links,e,r,t),G(a,n,s,-1),G(a,n,t,1)}function re(e,r,t){var n=e.optimisticOrder.indexOf(r);-1===n?e.optimisticOrder.unshift(r):e.commutativeKeys.has(r)||(te(e,r),e.optimisticOrder.splice(n,1),e.optimisticOrder.unshift(r)),t?e.deferredKeys.add(r):e.deferredKeys.delete(r),e.commutativeKeys.add(r)}function te(e,r){e.refLock[r]&&(delete e.refLock[r],delete e.records.optimistic[r],delete e.links.optimistic[r],e.deferredKeys.delete(r))}function ne(e,r){var t=e.optimisticOrder.indexOf(r);t>-1&&(e.optimisticOrder.splice(t,1),e.commutativeKeys.delete(r)),te(e,r)}function ie(e){var r=F;F=K();var t=M.links.optimistic[e];t&&t.forEach((function(e,r){for(var t in e)ee(r,t,e[t])}));var n=M.records.optimistic[e];n&&n.forEach((function(e,r){for(var t in e)$(r,t,e[t])})),F=r,ne(M,e)}function ae(e){var r=M.links,t=M.records,n=[],i=new Set;return H(e),X(n,i,e,r),X(n,i,e,t),n}var oe={current:null},ue={current:!1};function se(e){return e.__internal.path.length>0&&e.__internal.errorMap?e.__internal.errorMap[e.__internal.path.join(".")]:void 0}function fe(e,r,t,n,i,a,o){var u={store:e,variables:r,fragments:t,parent:{__typename:n},parentTypeName:n,parentKey:i,parentFieldKey:"",fieldName:"",error:void 0,partial:!1,optimistic:!!a,__internal:{path:[],errorMap:void 0}};if(o&&o.graphQLErrors)for(var s=0;s<o.graphQLErrors.length;s++){var f=o.graphQLErrors[s];f.path&&f.path.length&&(u.__internal.errorMap||(u.__internal.errorMap=Object.create(null)),u.__internal.errorMap[f.path.join(".")]=f)}return u}function le(e,r,t,n,i,a){oe.current=e,e.parent=r,e.parentTypeName=t,e.parentKey=n,e.parentFieldKey=i,e.fieldName=a,e.error=se(e)}function ce(e,r,t,n){if(!r)return!1;var a=s(e);return!a||r===a||!u(e).some((function(e){if(!f(e))return!1;var r=w(i(e),c(e,n));return!function(e,r){return void 0!==Y(e,r)||void 0!==Z(e,r)}(t,r)}))}function de(e,r,t,n){var a,o=!1,s=0;return function(){if(!ue.current&&o&&(ue.current=o),a){var c=a();if(null!=c)return c;a=void 0,o=!1}for(;s<t.length;){var d=t[s++];if(h(d,n.variables)){if(f(d))return d;var p=l(d)?d:n.fragments[i(d)];if(void 0!==p&&(n.store.schema?O(n.store.schema,p,e):ce(p,e,r,n.variables)))return o=!!g(d,n.variables),!ue.current&&o&&(ue.current=o),(a=de(e,r,u(p),n))()}}}}function pe(e){return null==e?null:e}function ve(e,r){if(null==r)return r;if(Array.isArray(r)){for(var t=new Array(r.length),n=0,i=t.length;n<i;n++)t[n]=ve(e,r[n]);return t}return e.keyOfEntity(r)}function ye(e,r,t,n,i){R("write",e.data,i||null);var a=me(e,r,t,n);return U(),a}function me(e,r,t,n,i){var a=y(r.query),o={data:t,dependencies:J()},s=e.rootFields[a.operation];return he(fe(e,p(a,r.variables),m(r.query),s,s,!!i,n),s,u(a),t),o}function he(e,r,t,n){var a=r===e.store.rootFields.query,s=!a&&!!e.store.rootNames[r],f=s||a?r:n.__typename;if(f){s||a||!r||$(r,"__typename",f);for(var l,d=de(f,r||f,t,e);l=d();){var p=i(l),v=c(l,e.variables),y=w(p,v),m=o(l),h=n[m];if(!("__typename"===p||void 0===h&&ue.current)){if(e.__internal.path.push(m),e.optimistic&&s){var g=e.store.optimisticMutations[p];if(!g)continue;le(e,n,f,f,y,p),h=n[m]=pe(g(v||{},e.store,e))}if(l.selectionSet)if(r&&!s){var k=x(r,y);ee(r||f,y,ge(e,u(l),pe(h),k))}else ge(e,u(l),pe(h));else r&&!s&&$(r||f,y,null===h&&se(e)?void 0:h);if(s){var _=e.store.updates[f][p];_&&(le(e,n,f,f,x(f,y),p),n[p]=h,_(n,v||{},e.store,e))}e.__internal.path.pop()}}}}function ge(e,r,t,n){if(Array.isArray(t)){for(var i=new Array(t.length),a=0,o=t.length;a<o;a++){e.__internal.path.push(a);var u=n?x(n,""+a):void 0,s=ge(e,r,t[a],u);i[a]=s,e.__internal.path.pop()}return i}if(null===t)return se(e)?void 0:null;var f=e.store.keyOfEntity(t)||n;return he(e,f,r,t),f||null}function ke(e){var r,t;this.keyOfField=w,this.resolveFieldByKey=this.resolve,e||(e={}),this.resolvers=e.resolvers||{},this.optimisticMutations=e.optimistic||{},this.keys=e.keys||{};var n,i="Query",a="Mutation",o="Subscription";if(e.schema){var u=function(e){var r=e.__schema,t={};function n(e){for(var r={},t=0;t<e.length;t++)r[e[t].name]=e[t];return r}function i(e){switch(e.kind){case"OBJECT":case"INTERFACE":return{name:e.name,kind:e.kind,interfaces:n(e.interfaces||[]),fields:n(e.fields.map((function(e){return{name:e.name,type:e.type,args:n(e.args)}})))};case"UNION":return{name:e.name,kind:e.kind,types:n(e.possibleTypes||[])}}}var a={query:r.queryType?r.queryType.name:null,mutation:r.mutationType?r.mutationType.name:null,subscription:r.subscriptionType?r.subscriptionType.name:null,types:void 0,isSubType:function(e,r){var n=t[e],i=t[r];return!!(n&&i&&("UNION"===n.kind?n.types[r]:"OBJECT"!==n.kind&&"OBJECT"===i.kind?i.interfaces[e]:e===r))}};if(r.types){a.types=t;for(var o=0;o<r.types.length;o++){var u=r.types[o];if(u&&u.name){var s=i(u);s&&(t[u.name]=s)}}}return a}(e.schema);i=u.query||i,a=u.mutation||a,o=u.subscription||o,u.types&&(this.schema=u)}this.updates=((r={})[a]=e.updates&&e.updates.Mutation||{},r[o]=e.updates&&e.updates.Subscription||{},r),this.rootFields={query:i,mutation:a,subscription:o},this.rootNames=((t={})[i]="query",t[a]="mutation",t[o]="subscription",t),this.data=(n=i,{defer:!1,gc:new Set,persist:new Set,queryRootKey:n,refCount:K(),refLock:K(),links:I(),records:I(),deferredKeys:new Set,commutativeKeys:new Set,optimisticOrder:[],storage:null})}function _e(e,r,t,n,i){R("read",e.data,i);var a=Oe(e,r,t,n);return U(),a}function Oe(e,r,t,n){var i=y(r.query),a=e.rootFields[i.operation],o=u(i),s=fe(e,p(i,r.variables),m(r.query),a,a,!1,n);t||(t=C());var f=a!==s.store.rootFields.query?be(s,a,o,t):we(s,a,o,t);return{dependencies:J(),partial:s.partial||!f,data:f||null}}function be(e,r,t,n){if("string"!=typeof(e.store.rootNames[r]?r:n.__typename))return n;for(var i,a=de(r,r,t,e),s=!1,f=C(n);i=a();){var l,c=o(i),d=n[c];e.__internal.path.push(c),l=i.selectionSet&&null!==d?qe(e,u(i),pe(d)):d,s=s||l!==d,void 0!==l&&(f[c]=l),e.__internal.path.pop()}return s?f:n}function qe(e,r,t){if(Array.isArray(t)){for(var n=new Array(t.length),i=!1,a=0,o=t.length;a<o;a++)e.__internal.path.push(a),n[a]=qe(e,r,t[a]),i=i||n[a]!==t[a],e.__internal.path.pop();return i?n:t}if(null===t)return null;var u=e.store.keyOfEntity(t);return null!==u?we(e,u,r,t)||null:be(e,t.__typename,r,t)}function we(e,r,t,n,a){var s=e.store,f=r===s.rootFields.query,l=a&&s.keyOfEntity(a)||r,d=f?r:Y(l,"__typename")||a&&a.__typename;if("string"==typeof d&&(!a||d===a.__typename)){for(var p,y=de(d,l,t,e),m=!1,h=!1,g=d!==n.__typename,_=C(n);void 0!==(p=y());){var O=i(p),b=c(p,e.variables),q=o(p),E=w(O,b),N=x(l,E),K=Y(l,E),A=a?a[O]:void 0,S=s.resolvers[d];e.__internal.path.push(q);var M=void 0;if("__typename"===O)M=d;else if(void 0!==A&&void 0===p.selectionSet)M=A;else if("read"===(v(null!==T,"",2),T)&&S&&"function"==typeof S[O]){if(le(e,_,d,l,N,O),void 0!==K&&(_[q]=K),M=S[O](_,b||{},s,e),p.selectionSet&&(M=xe(e,d,O,N,u(p),void 0!==_[q]?_[q]:n[q],M,P(n))),s.schema&&null===M&&!k(s.schema,d,O))return}else if(p.selectionSet)if(void 0!==A)M=xe(e,d,O,N,u(p),void 0!==_[q]?_[q]:n[q],A,P(n));else{var F=Z(l,E);void 0!==F?M=Ee(e,F,d,O,u(p),void 0!==_[q]?_[q]:n[q],P(n)):"object"==typeof K&&null!==K&&(M=K)}else M=K;if(void 0===M&&ue.current)m=!0;else if(void 0===M&&(s.schema&&k(s.schema,d,O)||se(e)))h=!0,M=null;else{if(void 0===M)return void e.__internal.path.pop();m=m||"__typename"!==O}e.__internal.path.pop(),g=g||M!==n[q],void 0!==M&&(_[q]=M)}return e.partial=e.partial||h,f&&h&&!m?void 0:g?_:n}}function xe(e,r,t,n,i,a,o,u){if(Array.isArray(o)){for(var s=e.store,f=!!s.schema&&_(s.schema,r,t),l=new Array(o.length),c=!Array.isArray(a)||o.length!==a.length,d=0,p=o.length;d<p;d++){e.__internal.path.push(d);var v=xe(e,r,t,x(n,""+d),i,null!=a?a[d]:void 0,o[d],u);if(e.__internal.path.pop(),void 0===v&&!f)return;e.partial=e.partial||void 0===v&&f,l[d]=null!=v?v:null,c=c||l[d]!==a[d]}return c?l:a}if(null==o)return o;if(u&&null===a)return null;if("string"==typeof(m=o)||"object"==typeof m&&"string"==typeof m.__typename){var y=a||C();return"string"==typeof o?we(e,o,i,y):we(e,n,i,y,o)}var m}function Ee(e,r,t,n,i,a,o){if(Array.isArray(r)){for(var u=e.store,s=!!u.schema&&_(u.schema,t,n),f=new Array(r.length),l=!Array.isArray(a)||f.length!==a.length,c=0,d=r.length;c<d;c++){e.__internal.path.push(c);var p=Ee(e,r[c],t,n,i,null!=a?a[c]:void 0,o);if(e.__internal.path.pop(),void 0===p&&!s)return;e.partial=e.partial||void 0===p&&s,f[c]=p||null,l=l||f[c]!==a[c]}return l?f:a}return null===r||null===a&&o?null:we(e,r,i,a||C())}function Ne(r,n){return e.makeOperation(r.kind,r,t._extends({},r.context,{meta:t._extends({},r.context.meta,{cacheOutcome:n})}))}function Ke(r,n){return e.makeOperation(r.kind,r,t._extends({},r.context,{requestPolicy:n}))}function Ae(t){return function(n){var i,a=n.forward,o=n.client,u=new ke(t);t&&t.storage&&(i=t.storage.readData().then((function(e){!function(e,r,t){for(var n in R("write",e,null),t){var i=t[n];if(void 0!==i){var a=N(n),o=a.entityKey,u=a.fieldKey;":"===i[0]?ee(o,u,JSON.parse(i.slice(1))):$(o,u,JSON.parse(i))}}U(),e.storage=r}(u.data,t.storage,e)})));var s=new Map,f=[],l=new Map,c=new Map,p=K(),v=new Set,m=K();function h(e){for(var r in e)if(p[r])return!0;return!1}function g(e,r){if(r)for(var t in r){var n=m[t];if(n){m[t]=[];for(var i=0,a=n.length;i<a;i++)e.add(n[i])}}}function k(e,r){r.forEach((function(r){if(r!==e.key){var t=l.get(r);if(t){l.delete(r);var n="cache-first";v.has(r)&&(v.delete(r),n="cache-and-network"),o.reexecuteOperation(Ke(t,n))}}}))}function _(r){if("query"===r.kind)re(u.data,r.key);else if("teardown"===r.kind)l.delete(r.key),c.delete(r.key),j(u.data,r.key);else if("mutation"===r.kind&&"network-only"!==r.context.requestPolicy){var t=function(e,r,t){R("write",e.data,t,!0);var n=me(e,r,{},void 0,!0);return U(),n}(u,r,r.key).dependencies;if(!function(e){for(var r in e)return!1;return!0}(t)){for(var n in t)p[n]=!0;s.set(r.key,t);var i=new Set;g(i,t),k(r,i)}}return e.makeOperation(r.kind,{key:r.key,query:e.formatDocument(r.query),variables:r.variables?d(y(r.query),r.variables):r.variables},r.context)}function O(e,r){for(var t in r)(m[t]||(m[t]=[])).push(e.key),l.set(e.key,e)}function b(e){var r=_e(u,e,c.get(e.key)),t=r.data?r.partial?"partial":"hit":"miss";return c.set(e.key,r.data),O(e,r.dependencies),{outcome:t,operation:e,data:r.data,dependencies:r.dependencies}}function q(e,r){var t,n=e.operation,i=e.error,a=e.extensions,o=n.key;"mutation"===n.kind&&(g(r,s.get(o)),s.delete(o)),re(u.data,n.key,e.hasNext);var f=e.data;if(f){g(r,ye(u,n,f,e.error,o).dependencies);var l=_e(u,n,"query"===n.kind&&c.get(n.key)||f,e.error,o);f=l.data,"query"===n.kind&&(g(r,t=l.dependencies),c.set(n.key,e.data))}else j(u.data,n.key);return t&&O(e.operation,t),{data:f,error:i,extensions:a,operation:n}}return function(e){var t=r.share(e),n=i?r.share(r.merge([r.mergeMap(r.fromArray)(r.buffer(r.fromPromise(i))(t)),r.skipUntil(r.fromPromise(i))(t)])):t,l=r.share(r.map(b)(r.filter((function(e){return"query"===e.kind&&"network-only"!==e.context.requestPolicy}))(n))),c=r.filter((function(e){return"query"!==e.kind||"network-only"===e.context.requestPolicy}))(n),d=r.map((function(e){return Ne(e.operation,"miss")}))(r.filter((function(e){return"miss"===e.outcome&&"cache-only"!==e.operation.context.requestPolicy&&!h(e.dependencies)}))(l)),y=r.map((function(e){var r=e.operation,t=e.outcome,n=e.dependencies,i={operation:Ne(r,t),data:e.data,error:e.error,extensions:e.extensions};return("cache-and-network"===r.context.requestPolicy||"cache-first"===r.context.requestPolicy&&"partial"===t)&&(i.stale=!0,h(n)?"cache-and-network"===r.context.requestPolicy&&v.add(r.key):o.reexecuteOperation(Ke(r,"network-only"))),i}))(r.filter((function(e){return"miss"!==e.outcome||"cache-only"===e.operation.context.requestPolicy}))(l)),m=r.share(a(r.map(_)(r.merge([c,d])))),g=r.map((function(e){var r=new Set,t=q(e,r);return k(e.operation,r),t}))(r.filter((function(e){return!s.has(e.operation.key)}))(m)),O=r.mergeMap((function(e){if(f.push(e)<s.size)return r.empty;for(var t=0;t<f.length;t++)re(u.data,f[t].operation.key);for(var n in p)delete p[n];for(var i,a=[],o=new Set;i=f.shift();)a.push(q(i,o));return k(e.operation,o),r.fromArray(a)}))(r.filter((function(e){return s.has(e.operation.key)}))(m));return r.merge([g,O,y])}}}function Se(e){return e&&e.networkError&&!e.response&&("undefined"!=typeof navigator&&!1===navigator.onLine||/request failed|failed to fetch|network\s?error/i.test(e.networkError.message))}ke.prototype.keyOfEntity=function(e){return oe.current&&e===oe.current.parent?oe.current.parentKey:null==e||"string"==typeof e?e||null:e.__typename?this.rootNames[e.__typename]?e.__typename:(this.keys[e.__typename]?r=this.keys[e.__typename](e):null!=e.id?r=""+e.id:null!=e._id&&(r=""+e._id),r?e.__typename+":"+r:null):null;var r},ke.prototype.resolve=function(e,r,t){var n=w(r,t),i=this.keyOfEntity(e);if(!i)return null;var a=Y(i,n);return void 0!==a?a:Z(i,n)||null},ke.prototype.invalidate=function(e,r,t){var n=this.keyOfEntity(e);v(n,"",19),function(e,r,t){for(var n=r?[{fieldKey:w(r,t)}]:ae(e),i=0,a=n.length;i<a;i++){var o=n[i].fieldKey;void 0!==Z(e,o)?ee(e,o,void 0):$(e,o,void 0)}}(n,r,t)},ke.prototype.inspectFields=function(e){var r=this.keyOfEntity(e);return r?ae(r):[]},ke.prototype.updateQuery=function(r,t){var n=e.createRequest(r.query,r.variables);n.query=e.formatDocument(n.query);var i=t(this.readQuery(n));null!==i&&me(this,n,i)},ke.prototype.readQuery=function(r){var t=e.createRequest(r.query,r.variables);return t.query=e.formatDocument(t.query),Oe(this,t).data},ke.prototype.readFragment=function(r,t,n){return function(e,r,t,n){var i=m(r),o=i[Object.keys(i)[0]];if(!o)return null;var s=a(o);"string"==typeof t||t.__typename||(t.__typename=s);var f=e.keyOfEntity(t);return f&&we(fe(e,n||{},i,s,f),f,u(o),C())||null}(this,e.formatDocument(r),t,n)},ke.prototype.writeFragment=function(r,n,i){!function(e,r,n,i){var o=m(r),s=o[Object.keys(o)[0]];if(s){var f=a(s),l=t._extends({},{__typename:f},n),c=e.keyOfEntity(l);c&&he(fe(e,i||{},o,f,c,void 0),c,u(s),l)}}(this,e.formatDocument(r),n,i)},ke.prototype.link=function(e,r,t,n){var i=void 0!==n?t:null,a=void 0!==n?n:t,o=ve(this,e);"string"==typeof o&&ee(o,w(r,i),ve(this,a))},exports.Store=ke,exports.cacheExchange=Ae,exports.offlineExchange=function(t){return function(a){var o=t.storage;if(o&&o.onOnline&&o.readMetadata&&o.writeMetadata){var s=a.forward,c=a.client,d=a.dispatchDebug,p=r.makeSubject(),v=p.source,g=p.next,k=t.optimistic||{},_=[],O=function(){for(var e=[],r=0;r<_.length;r++){var t=_[r];"mutation"===t.kind&&e.push({query:n.print(t.query),variables:t.variables})}o.writeMetadata(e)},b=!1,q=function(){if(!b){b=!0;for(var r=0;r<_.length;r++){var t=_[r];"mutation"===t.kind&&g(e.makeOperation("teardown",t))}for(var n=0;n<_.length;n++)c.reexecuteOperation(_[n]);_.length=0,b=!1,O()}};o.onOnline(q),o.readMetadata().then((function(r){if(r){for(var t=0;t<r.length;t++)_.push(c.createRequestOperation("mutation",e.createRequest(r[t].query,r[t].variables)));q()}}));var w=Ae(t)({client:c,dispatchDebug:d,forward:function(e){return r.filter((function(e){return"mutation"!==e.operation.kind||!Se(e.error)||!function(e,r){for(var t,n=r.variables||K(),a=m(r.query),o=[].concat(u(y(r.query)));t=o.pop();)if(h(t,n))if(f(t)){if(e[i(t)])return!0}else{var s=l(t)?t:a[i(t)];s&&o.push.apply(o,u(s))}return!1}(k,e.operation)||(_.push(e.operation),O(),!1)}))(s(e))}});return function(e){var t=r.share(e),n=r.merge([v,t]);return r.filter((function(e){return"query"!==e.operation.kind||!Se(e.error)||(g(Ke(e.operation,"cache-only")),_.push(e.operation),!1)}))(w(n))}}return Ae(t)(a)}},exports.query=_e,exports.write=ye;
//# sourceMappingURL=urql-exchange-graphcache.min.js.map
